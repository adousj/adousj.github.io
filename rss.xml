<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <id>http://adou.gitcafe.com</id>
    <title>~/Adou's Blog</title>
    <link>http://adou.gitcafe.com</link>
    <language>zh-cn</language>
    <copyright>&amp;#x2117; &amp;amp; &amp;#xA9; 2014 Adou He</copyright>
    <link href="http://adou.gitcafe.com"/>
    <link href="http://adou.gitcafe.com/rss.xml" rel="self"/>
    <updated>2014-08-06T13:02:00Z</updated>
    <lastBuildDate>2014-08-06T13:02:00Z</lastBuildDate>
    <pubDate>2014-08-06T13:02:00Z</pubDate>
    <description>~Adou got his ideas out of head.</description>
    <author>
      <name>Adou</name>
    </author>
    <item>
      <title>搭建 Laravel 开发环境</title>
      <link>http://adou.gitcafe.com/laravel</link>
      <description type="html">&lt;p&gt;一直使用 Ruby 开发 Web 项目，也慢慢适应了 Ruby 提供的种种方便的函数。之前也算接触过 Php，只是一些修修补补的小地方，从来没有好好学过。&lt;/p&gt;

&lt;p&gt;中间也关注过一些 Php 开发框架，Laravel 就是让我眼前一亮的那个。第一印象就是，Laravel 跟 Ruby on Rails / Sinatra 太像了。Laravel 充分利用 Php 5 的新特性，使用起来完全就是另一种语言，当然是另一种更好的语言，让 Php 终于有了脚本语言的样子。&lt;/p&gt;

&lt;p&gt;我也开始学点学 Laravel，以后也能说自己回 Php了 :)&lt;/p&gt;

&lt;p&gt;今天就先从安装开发环境开始。&lt;/p&gt;

&lt;h2&gt;0. 官网&lt;/h2&gt;

&lt;p&gt;&lt;a href="http://laravel.com/"&gt;Laravel 官网&lt;/a&gt;，有最新，最规范的教程。&lt;/p&gt;

&lt;h2&gt;1. 系统环境&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;系统环境： Ubuntu 14.04 LTS x64&lt;/li&gt;
&lt;li&gt;编辑器： 一如既往的 &lt;a href="http://www.sublimetext.com/3"&gt;Sublime Text 3&lt;/a&gt;，一如既往的好用，特别是安装了 Laravel 插件后。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;2. 基础软件&lt;/h2&gt;

&lt;p&gt;为图方便数据库使用的是 Sqlite&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;sqlite&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;php&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;php&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;3. 安装 Laravel&lt;/h2&gt;

&lt;h3&gt;安装 Composer&lt;/h3&gt;

&lt;p&gt;Composer 是个非常强大的工具（虽然别的语言早就有了），用于管理 Php 的包关系。详见 &lt;a href="https://getcomposer.org/"&gt;Composer 官网&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;curl&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sS&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//getcomposer.org/installer | php&lt;/span&gt;
&lt;span class="n"&gt;mv&lt;/span&gt; &lt;span class="n"&gt;composer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;phar&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;composer&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可能需要让 Composer 默认执行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;chmod&lt;/span&gt; &lt;span class="mi"&gt;777&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;composer&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;安装 Laravel&lt;/h3&gt;

&lt;p&gt;下载 &lt;a href="http://laravel.com/laravel.phar"&gt;Laravel 安装器&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;mv&lt;/span&gt; &lt;span class="n"&gt;laravel&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;phar&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;laravel&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;让 Laravel 默认执行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;chmod&lt;/span&gt; &lt;span class="mi"&gt;777&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;laravel&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;测试&lt;/h2&gt;

&lt;p&gt;这个时候你就已经安装好了 Laravel 开发环境，可以测试一下。
在你选定的开发目录下执行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;laravel&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;不出意外的话，这将在 blog 目录下创建一个 Laravel 新项目。
现在就可以更新/安装项目的依赖包了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt;
&lt;span class="n"&gt;composer&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;过一会儿依赖的包就能够安装好了。
刚才安装的程序里并没有 Apache Nginx，我们就用 Php 5.4+ 内置的 Web Server。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;php&lt;/span&gt; &lt;span class="n"&gt;artisan&lt;/span&gt; &lt;span class="n"&gt;serve&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在打开 &lt;a href="http://localhost:8000"&gt;http://localhost:8000&lt;/a&gt;，你就能看到新网站了。&lt;/p&gt;
</description>
      <guid>tag:adou.gitcafe.com,article.url</guid>
      <pubDate>2014-08-06T13:02:00Z</pubDate>
      <category>Laravel, Ubuntu, Composer, Php</category>
    </item>
    <item>
      <title>PostgreSQL 入门</title>
      <link>http://adou.gitcafe.com/postgresql</link>
      <description type="html">&lt;p&gt;&lt;a href="http://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html"&gt;参考自阮一峰博客&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;经常会用到 PostgreSQL，虽然基本都是在 Rails 中使用，基本的操作都是 ActiveRecord 上处理。所以一直也不知道怎么操作 PostgreSQL，只是模糊知道跟 MySql不大一样，详情就不大了了了。遇到问题，也只能到 StackOverflow 上抱牛人大腿了 ：)&lt;/p&gt;

&lt;h2&gt;安装&lt;/h2&gt;

&lt;p&gt;PostgreSQL 客户端：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;postgresql&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cllient&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;PostgreSQL 服务器：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;postgresql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图形管理&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pgamdin3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;安装后情况&lt;/h2&gt;

&lt;p&gt;初始安装结束后，默认已经能够生成了一个 postgres 的用户，和一个 postgres 的数据库用户。这里的一直困扰我的是，它还一并生成了一个 postgres 的 linux 系统用户。以前不知道这一点而，对此一直很困扰。&lt;/p&gt;

&lt;h2&gt;登陆数据库&lt;/h2&gt;

&lt;h4&gt;切换系统用户到 adou&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;su&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;postgres&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;登录数据库&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;psql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;相当于以当前系统用户 postgres 登录数据库，默认是没有密码的。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt; &lt;span class="n"&gt;adou&lt;/span&gt; &lt;span class="n"&gt;psql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;以 adou 用户登录数据库。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;psql&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;U&lt;/span&gt; &lt;span class="n"&gt;examin&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;examin_test&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt; &lt;span class="mf"&gt;127.0.0.1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="mi"&gt;5432&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;设置密码&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt; &lt;span class="n"&gt;postgres&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;创建数据库新用户&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;CREATE&lt;/span&gt; &lt;span class="n"&gt;USER&lt;/span&gt; &lt;span class="n"&gt;examin&lt;/span&gt; &lt;span class="n"&gt;WITH&lt;/span&gt; &lt;span class="n"&gt;PASSWORD&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;examin&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;新建数据库&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;CREATE&lt;/span&gt; &lt;span class="n"&gt;DATABASE&lt;/span&gt; &lt;span class="n"&gt;examin_test&lt;/span&gt; &lt;span class="n"&gt;OWNER&lt;/span&gt; &lt;span class="n"&gt;examin&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;将数据库所有权赋予 examin&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;GRANT&lt;/span&gt; &lt;span class="n"&gt;ALL&lt;/span&gt; &lt;span class="n"&gt;PRIVILEGES&lt;/span&gt; &lt;span class="n"&gt;ON&lt;/span&gt; &lt;span class="n"&gt;DATABASE&lt;/span&gt; &lt;span class="n"&gt;examin_test&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;examin&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;退出&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Shell 方式&lt;/h1&gt;

&lt;h4&gt;创建用户&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt; &lt;span class="n"&gt;postgres&lt;/span&gt; &lt;span class="n"&gt;createuser&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;superuser&lt;/span&gt; &lt;span class="n"&gt;examin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;创建数据库&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt; &lt;span class="n"&gt;postgres&lt;/span&gt; &lt;span class="n"&gt;createdb&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt; &lt;span class="n"&gt;examin&lt;/span&gt; &lt;span class="n"&gt;examin_test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;导入sql&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;psql&lt;/span&gt; &lt;span class="n"&gt;examin_test&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;examin_test&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;服务命令&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;service&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;service&lt;/span&gt; &lt;span class="n"&gt;restart&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;service&lt;/span&gt; &lt;span class="n"&gt;stop&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;其他命令&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;\h：查看SQL命令的解释，比如\h select。&lt;/li&gt;
&lt;li&gt;\?：查看psql命令列表。&lt;/li&gt;
&lt;li&gt;\l：列出所有数据库。&lt;/li&gt;
&lt;li&gt;\c [database_name]：连接其他数据库。&lt;/li&gt;
&lt;li&gt;\d：列出当前数据库的所有表格。&lt;/li&gt;
&lt;li&gt;\d [table_name]：列出某一张表格的结构。&lt;/li&gt;
&lt;li&gt;\du：列出所有用户。&lt;/li&gt;
&lt;li&gt;\e：打开文本编辑器。&lt;/li&gt;
&lt;li&gt;\conninfo：列出当前数据库和连接的信息。&lt;/li&gt;
&lt;/ul&gt;

&lt;h1&gt;P.S.&lt;/h1&gt;

&lt;p&gt;虽然没有什么新知识，至少对我自己来说是受益匪浅的，整理了一遍，也终于分清楚这些命令。&lt;/p&gt;
</description>
      <guid>tag:adou.gitcafe.com,article.url</guid>
      <pubDate>2014-07-18T10:24:00Z</pubDate>
      <category>PostgreSQL, linux</category>
    </item>
    <item>
      <title>linux 创建用户命令</title>
      <link>http://adou.gitcafe.com/linux</link>
      <description type="html">&lt;p&gt;因为从来都是自己用自己的电脑，而且一直使用的是Ubuntu，所以都是在系统安装过程中新建用户，从来没有尝试过用命令行。&lt;/p&gt;

&lt;p&gt;这次使用过程中涉及到的命令如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;useradd&lt;/span&gt;
&lt;span class="n"&gt;adduser&lt;/span&gt;
&lt;span class="n"&gt;usermod&lt;/span&gt;
&lt;span class="n"&gt;userdel&lt;/span&gt;
&lt;span class="n"&gt;passwd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;useradd&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;useradd&lt;/span&gt; &lt;span class="n"&gt;adou&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;只会创建 adou 用户，但是并没有创建 /home/adou/ 文件夹，也没有创建密码，不能登录系统。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;useradd&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;adou&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这种方式是可以同时创建 /home/adou/，不过密码还是需要通过:
&lt;code&gt;
passwd adou
&lt;/code&gt;
设置&lt;/p&gt;

&lt;h2&gt;adduser 添加用户&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;adduser&lt;/span&gt; &lt;span class="n"&gt;adou&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这个命令更适合我这种初学者，一个命令全部搞定。&lt;/p&gt;

&lt;h2&gt;　usermod 添加至用户组&lt;/h2&gt;

&lt;p&gt;用户建立了之后要需要权限的，特别是 sudo 权限，默认有 sudo 用户组，把新用户加入即可。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;usermod&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;adou&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;userdel 删除用户&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;userdel&lt;/span&gt; &lt;span class="n"&gt;adou&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这个只会删除用户，并不会删除用户文件。
如果想连同文件全都删除
&lt;code&gt;
userdel -r adou
&lt;/code&gt;&lt;/p&gt;
</description>
      <guid>tag:adou.gitcafe.com,article.url</guid>
      <pubDate>2014-07-18T10:21:00Z</pubDate>
      <category>linux</category>
    </item>
    <item>
      <title>Nginx + Passenger + Rails</title>
      <link>http://adou.gitcafe.com/nginx-passenger-rails</link>
      <description type="html">&lt;p&gt;最近开发一个 Rails 项目，项目 Demo 已经初步完成，需要部署到服务器。平时都是使用 Rails 自带 WebBrick, 或者使用 thin，很少配置 production 环境的。今天实践了一遍，虽然也遇到了几个坑，过程还算顺利。&lt;/p&gt;

&lt;h3&gt;我的软件版本&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Ubuntu Server 14.04&lt;/li&gt;
&lt;li&gt;Ruby 2.0.0-p481&lt;/li&gt;
&lt;li&gt;Passenger 4.0.46&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;总体步骤&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;安装 Passenger&lt;/li&gt;
&lt;li&gt;安装 Nginx&lt;/li&gt;
&lt;li&gt;配置 Nginx&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;安装 Passenger&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;passenger&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;安装 Nginx&lt;/h2&gt;

&lt;p&gt;不可以使用官方的 Nginx，为跟 Passenger 集成，需要单独设置编译。不过你不用为“设置” “编译”苦恼，因为已经有编译安装脚本。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;rvmsudo&lt;/span&gt; &lt;span class="n"&gt;passenger&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;modul&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;按着提示内容进行选择就行，我的原则就是“能默认就默认”，能直接 Enter 就回车走人。&lt;/p&gt;

&lt;p&gt;编译可能需要一段时间，不过也不会很长，几分钟吧。&lt;/p&gt;

&lt;h3&gt;安装命令&lt;/h3&gt;

&lt;p&gt;在这里我就遇到了一个坑，本来现在就能打 Nginx 就能看到默认页面了。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;service&lt;/span&gt; &lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;stop&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;但是输入以上命令，不能启用 Nginx，提示类似 “no service named nginx&amp;quot;&lt;/p&gt;

&lt;p&gt;不问为什么，但求结果，google了一下，找到了解决方式。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;wget&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;deb&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//library.linode.com/assets/660-init-deb.sh&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;mv&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;deb&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;chmod&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sbin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;defaults&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在就能通过命令控制 Nginx 了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;stop&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;配置 Nginx&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;opt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nginx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;配置倒是很简洁，主要是因为我要求也简单，能用即可：) &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;server_name&lt;/span&gt; &lt;span class="n"&gt;localhost&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;passenger_enabled&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;your_app&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;public&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;具体为什么指向 public 页面，我也不知道。重要的是&lt;code&gt;it works&lt;/code&gt;&lt;/p&gt;
</description>
      <guid>tag:adou.gitcafe.com,article.url</guid>
      <pubDate>2014-07-17T10:26:00Z</pubDate>
      <category>Rails</category>
    </item>
    <item>
      <title>test</title>
      <link>http://adou.gitcafe.com/test</link>
      <description type="html">&lt;p&gt;测试 middleman&lt;/p&gt;
</description>
      <guid>tag:adou.gitcafe.com,article.url</guid>
      <pubDate>2014-02-22T07:48:00Z</pubDate>
      <category></category>
    </item>
  </channel>
</rss>
